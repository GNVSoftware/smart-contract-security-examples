// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":true,"inputs":[],"name":"authorizedSender","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[],"name":"currentPeriodEnd","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"}],"name":"stopTransfer","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"}],"name":"releasePendingTransfer","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"transfers","outputs":[{"name":"amount","type":"uint256"},{"name":"to","type":"address"},{"name":"releaseBlock","type":"uint256"},{"name":"released","type":"bool"},{"name":"stopped","type":"bool"}],"type":"function"},{"constant":true,"inputs":[],"name":"limit","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"updatePeriod","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"},{"name":"to","type":"address"}],"name":"transfer","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"currentPeriodAmount","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"curator","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[],"name":"period","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"inputs":[{"name":"_curator","type":"address"},{"name":"_authorizedSender","type":"address"},{"name":"_period","type":"uint256"},{"name":"_limit","type":"uint256"}],"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"to","type":"address"},{"indexed":false,"name":"releaseBlock","type":"uint256"}],"name":"PendingTransfer","type":"event"}],
    binary: "606060405260405160808061060e833960e06040529051905160a05160c05160018054600160a060020a0319908116909517905560038290556004556002805490931690911790915543016005556105b38061005b6000396000f36060604052361561008d5760e060020a600035046330fd61ff811461008f57806358794456146100a157806366e5cb50146100aa5780638e5d97a2146101145780639377d711146101ea578063a4d66daf146102b3578063a83627de146102bc578063b7760c8f146102db578063e465eb9e14610306578063e66f53b71461030f578063ef78d4fd14610321575b005b61032a600254600160a060020a031681565b61034760055481565b61008d600435600154600160a060020a0390811633909116141561011157600160006000508281548110156100025750805250600481027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56601805461ff0019166101001790555b50565b61008d600435600060006000508281548110156100025750508052600481027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5658101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56391909101904390118015906101925750600381015460ff16155b80156101a857506003810154610100900460ff16155b156101e65760038101805460ff191660019081179091558101548154604051600160a060020a0392909216916000919082818181858883f150505050505b5050565b610359600435600080548290811015610002575080526004027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5638101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5648201547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5658301547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56693909301549192600160a060020a03919091169160ff8181169161010090041685565b61034760045481565b61008d5b600554439010156102d957600354430160055560006006555b565b61008d60043560243560025460009033600160a060020a03908116911614156105ae576103916102c0565b61034760065481565b61032a600154600160a060020a031681565b61034760035481565b60408051600160a060020a03929092168252519081900360200190f35b60408051918252519081900360200190f35b60408051958652600160a060020a03949094166020860152848401929092521515606084015215156080830152519081900360a00190f35b6004546006548401111561046b57506000546003546040805192835260208301859052600160a060020a03841683820152439190910160608301819052905190917ff74ec957f962852f42b0b065c114ae87f2b88348860d5a0c579f61a863b3e928919081900360800190a1600060005080548060010182818154818355818115116104a9576004028160040283600052602060002091820191016104a991905b80821115610513576000808255600182018054600160a060020a0319169055600282015560038101805461ffff19169055600401610432565b600680548401905560008054600181018083558281838015829011610517576004028160040283600052602060002091820191016105179190610432565b50505060009283525060208083206040805160a0810182528881529283018790528201859052606082018490526080919091019290925260040201838155600181018054600160a060020a0319168417905560028101829055600301805461ffff191690556105ae565b5090565b505050919090600052602060002090600402016000506040805160a081018252868152602081018690524381830181905260016060830181905260006080939093018390528885558481018054600160a060020a031916891790556002850191909155600393909301805460ff191690931761ff00191690925551600160a060020a0385169250859082818181858883f150505050505b50505056",
    unlinked_binary: "606060405260405160808061060e833960e06040529051905160a05160c05160018054600160a060020a0319908116909517905560038290556004556002805490931690911790915543016005556105b38061005b6000396000f36060604052361561008d5760e060020a600035046330fd61ff811461008f57806358794456146100a157806366e5cb50146100aa5780638e5d97a2146101145780639377d711146101ea578063a4d66daf146102b3578063a83627de146102bc578063b7760c8f146102db578063e465eb9e14610306578063e66f53b71461030f578063ef78d4fd14610321575b005b61032a600254600160a060020a031681565b61034760055481565b61008d600435600154600160a060020a0390811633909116141561011157600160006000508281548110156100025750805250600481027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56601805461ff0019166101001790555b50565b61008d600435600060006000508281548110156100025750508052600481027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5658101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56391909101904390118015906101925750600381015460ff16155b80156101a857506003810154610100900460ff16155b156101e65760038101805460ff191660019081179091558101548154604051600160a060020a0392909216916000919082818181858883f150505050505b5050565b610359600435600080548290811015610002575080526004027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5638101547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5648201547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5658301547f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56693909301549192600160a060020a03919091169160ff8181169161010090041685565b61034760045481565b61008d5b600554439010156102d957600354430160055560006006555b565b61008d60043560243560025460009033600160a060020a03908116911614156105ae576103916102c0565b61034760065481565b61032a600154600160a060020a031681565b61034760035481565b60408051600160a060020a03929092168252519081900360200190f35b60408051918252519081900360200190f35b60408051958652600160a060020a03949094166020860152848401929092521515606084015215156080830152519081900360a00190f35b6004546006548401111561046b57506000546003546040805192835260208301859052600160a060020a03841683820152439190910160608301819052905190917ff74ec957f962852f42b0b065c114ae87f2b88348860d5a0c579f61a863b3e928919081900360800190a1600060005080548060010182818154818355818115116104a9576004028160040283600052602060002091820191016104a991905b80821115610513576000808255600182018054600160a060020a0319169055600282015560038101805461ffff19169055600401610432565b600680548401905560008054600181018083558281838015829011610517576004028160040283600052602060002091820191016105179190610432565b50505060009283525060208083206040805160a0810182528881529283018790528201859052606082018490526080919091019290925260040201838155600181018054600160a060020a0319168417905560028101829055600301805461ffff191690556105ae565b5090565b505050919090600052602060002090600402016000506040805160a081018252868152602081018690524381830181905260016060830181905260006080939093018390528885558481018054600160a060020a031916891790556002850191909155600393909301805460ff191690931761ff00191690925551600160a060020a0385169250859082818181858883f150505050505b50505056",
    address: "0x5d2d46c589997669fc596fb3b32ae8297b41f089",
    generated_with: "2.0.9",
    contract_name: "CircuitBreaker"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("CircuitBreaker error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("CircuitBreaker error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("CircuitBreaker error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("CircuitBreaker error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.CircuitBreaker = Contract;
  }

})();
